<!DOCTYPE html>
<link href="css/mycss.css" rel="stylesheet"/>
<html>
<head>
	<meta charset="utf-8"/>
	<title>Сайт</title>

</head>
<header align="center" class="head">
	<h1>Личный сайт</h1>
</header>
<body class="body">
<div class="picturehi"></div>
<div align="center" class="Text"><h2></div>
<div class="Mtext">
	<div>
		<dl>
			<dt>Информация:</dt>
			<dd>Имя</dd>
			<dd>Вуз</dd>
			<dd>Возраст</dd>
		</dl>
		<button class="but1" onclick="document.location='user_add.html'">Добавить пользователя</button>
	</div>
	<h4><p> Всем привет!Меня зовут Андрей.Учусь в МАИ.Мне 21 год.</p>
		<form>
			<label>
				Введите id Студента<input id="input_user_id" type="number" min="1" value="">
			</label><br>
			<label>
				Имя:
				<output id="output_name" type="text" value=""></output>
			</label><br>
			<label>
				Фамилия:
				<output id="output_family" type="text" value=""></output>
			</label><br>
			<label>
				Отчество:
				<output id="output_secondname" type="text" value=""></output>
			</label><br>
			<label>
				Место учебы:
				<output id="output_university" type="text" value=""></output>
			</label><br>
			<label>
				Возраст:
				<output id="output_age" type="number" value=""></output>
			</label><br>
			<label>
				Курс:
				<output id="output_course" type="number" value=""></output>
			</label><br>
			<label>
				Группа:
				<output id="output_group" type="text" value=""></output>
			</label><br>
			<p><input class="getUsers" onclick="getUser()" type="button" value="Получить пользователя"></p>
			<p><input class="next" onclick="getUser(1)" type="button" value="Вперед"></p>
			<p><input class="back" onclick="getUser(2)" type="button" value="Назад"></p>
		</form>

		<img class="rocket" src="images/r3.png">

		<script type="text/javascript">
        function getUser(value) {
            var xhr = new XMLHttpRequest();
            xhr.open("POST", "SelectUser");
            xhr.setRequestHeader("Content-type", "application/json");
            xhr.onload = (e) => {

                var data = JSON.parse(e.target.response);
                var name = data.name;
                var family = data.family;
                var secondname = data.secondname;
                var university = data.university;
                var age = data.age;
                var course = data.course;
                var group = data.group;
                var sizedb = data.size;

                document.getElementById("output_name").value = name;
                document.getElementById("output_family").value = family;
                document.getElementById("output_secondname").value = secondname;
                document.getElementById("output_university").value = university;
                document.getElementById("output_age").value = age;
                document.getElementById("output_course").value = course;
                document.getElementById("output_group").value = group;


                if(xhr.status != 200){
                        window.alert("Что-то пошло не так")
                    }
                    else
                    {
                        window.alert("Данные нашлись"+e.target.response)
                    }
            };

            var idtst = Number(document.getElementById("input_user_id").value);
                if(value === 1){
				var user_id = document.getElementById("input_user_id").value;
				user_id++
				document.getElementById("input_user_id").value = user_id;

			}   else if(idtst <2){
				alert('Выход за пределы списка');
				return false;
			}
				if(value === 2){
				var user_id = document.getElementById("input_user_id").value;
				user_id--;
				document.getElementById("input_user_id").value = user_id;
				}

            var user_id = document.getElementById("input_user_id").value;
            var params = {"id" : user_id};
            if (document.getElementById("input_user_id").value == '')
			{
			alert ('Id не может быть пустым');
			return false;
			}
            xhr.send(JSON.stringify(params));

		}


		</script>
</body>
</html>