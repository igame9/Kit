<!DOCTYPE html>
<html lang="ru">
<head>
	<meta charset="utf-8"/>
	<title>Мой первый сервис</title>

	<link href="css/css2.css" rel="stylesheet"/>

	<script type="text/javascript">
        function getUser() {
               var xhr = new XMLHttpRequest();
            xhr.open("POST", "requestmethod");
            xhr.setRequestHeader("Content-type", "application/json");
            xhr.onload = (e)  => {
                alert("Ваши данные:" + e.target.response)
                    if(xhr.status !== 200){
                        window.alert("Что-то пошло не так")
                    }
                    else
                    {
                        window.alert("Данные отправлены")
                    }
            };
            var name = document.getElementById("name").value;
            var fam = document.getElementById("family").value;
            var secondname = document.getElementById("secondname").value;
            var university = document.getElementById("place").value;
            var age= document.getElementById("age").value;
            var course = document.getElementById("course").value;
            var group = document.getElementById("group").value;
            var agtst = Number(age);
            var coutst = Number(course);


            var params1 = { "name" : name,
                            "family" : fam,
                            "secondname" : secondname,
                            "university" : university,
                            "age" : age,
                            "course" : course,
                            "group" : group};

            if(document.getElementById("name"&&"family"&&"secondname"&&"place").value == '')
			{
			    alert ('Введите обязательные первые 4 поля');
			    return false;
			}

           if(Number.isInteger(agtst&&coutst)){
                alert('Возраст и номер группы успешно приняты');
            }
             else
            {
                alert('Возраст и номер группы должны быть числом');
                return false;
            }
            xhr.send(JSON.stringify(params1));
            }



	</script>
</head>

<body>
<div class="wrapper">
	<button class="but2" onclick="document.location='site.html'">Перейти к поиску</button>
	<form onsubmit="getUser()">
		<label>
			Имя* <input id="name" type="text" value="">
		</label><br>
		<label>
			Фамилия* <input id="family" type="text" value="">
		</label><br>
		<label>
			Отчество* <input id="secondname" type="text" value="">
		</label><br>
		<label>
			Место учебы* <input id="place" type="text" value="">
		</label><br>
		<label>
			Возраст <input id="age" type="number" value="">
		</label><br>
		<label>
			Номер курса <input id="course" type="number" value="">
		</label><br>
		<label>
			Группа <input id="group" type="text" value="">
		</label><br>
		<label>
			<input type="submit" value="Отправить">
		</label>
	</form>
</div>
<div class="user">
</div>
</body>
</html>